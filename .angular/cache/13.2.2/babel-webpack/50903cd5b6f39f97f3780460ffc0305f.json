{"ast":null,"code":"import { faCalendarAlt, faClock, faEye } from '@fortawesome/free-solid-svg-icons';\nimport { take } from 'rxjs/operators';\nimport { API_URL } from 'src/app/core/tokens/api.token';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/front-posts.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/platform-browser\";\nimport * as i4 from \"@fortawesome/angular-fontawesome\";\nimport * as i5 from \"../../../shared/components/label/label.component\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../../shared/components/category-post/category-post.component\";\n\nfunction PostComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelement(1, \"app-category-post\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const post_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"post\", post_r3);\n  }\n}\n\nfunction PostComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelement(1, \"app-category-post\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const post_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"post\", post_r4);\n  }\n}\n\nfunction PostComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"app-category-post\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const post_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"post\", post_r5);\n  }\n}\n\nexport let PostComponent = /*#__PURE__*/(() => {\n  class PostComponent {\n    constructor(apiUrl, postsService, route, router, title) {\n      this.apiUrl = apiUrl;\n      this.postsService = postsService;\n      this.route = route;\n      this.router = router;\n      this.title = title;\n      this.recentPosts = [];\n      this.post = {};\n      this.categoryPosts = [];\n      this.maybeInterested = [];\n      this.calendarIcon = faCalendarAlt;\n      this.clockIcon = faClock;\n      this.eyeIcon = faEye;\n    }\n\n    ngOnInit() {\n      this.route.params.subscribe(params => {\n        if (params.id) {\n          this.postsService.getSinglePost(params.id).pipe(take(1)).subscribe(singlePost => {\n            this.post = singlePost;\n            this.title.setTitle(this.post.title);\n            this.postsService.countPostViews(singlePost._id).subscribe(res => {\n              console.log('+1');\n            });\n            this.postsService.getPostsByCategory(singlePost.category_id, 3).subscribe(categoryPosts => {\n              this.categoryPosts = categoryPosts;\n            });\n          });\n        } else {\n          this.router.navigateByUrl('/home');\n        }\n      });\n      this.postsService.getLastPosts(5).subscribe(lastPosts => {\n        this.recentPosts = lastPosts;\n      });\n    }\n\n  }\n\n  PostComponent.ɵfac = function PostComponent_Factory(t) {\n    return new (t || PostComponent)(i0.ɵɵdirectiveInject(API_URL), i0.ɵɵdirectiveInject(i1.FrontPostsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Title));\n  };\n\n  PostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PostComponent,\n    selectors: [[\"app-post\"]],\n    decls: 37,\n    vars: 16,\n    consts: [[1, \"w-100\", \"mt-4\"], [1, \"m-0\", \"p-0\"], [1, \"row\", \"w-100\", \"mt-3\"], [1, \"col-9\"], [1, \"image\", \"w-100\"], [\"alt\", \"post-image\", 1, \"w-100\", 3, \"src\"], [1, \"row\", \"w-100\", \"info-label\", \"p-2\", \"m-0\", \"mt-2\"], [1, \"col-2\"], [3, \"icon\"], [1, \"col-1\"], [1, \"w-100\", \"mt-3\", \"post-text\", 3, \"innerHTML\"], [1, \"mt-5\"], [3, \"title\"], [1, \"row\", \"mt-2\"], [\"class\", \"col-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-3\", \"mb-5\"], [1, \"col-3\"], [\"class\", \"w-100 mt-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"w-100\", \"mt-3\", \"ads\"], [\"src\", \"assets/ads/add_example.gif\", \"alt\", \"ads go here\", 1, \"w-100\"], [1, \"col-4\"], [3, \"post\"], [1, \"w-100\", \"mt-3\"]],\n    template: function PostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"h1\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"section\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelement(6, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"p\", 1);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"p\", 1);\n        i0.ɵɵelement(13, \"fa-icon\", 8);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 7);\n        i0.ɵɵelementStart(16, \"p\", 1);\n        i0.ɵɵelement(17, \"fa-icon\", 8);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 9);\n        i0.ɵɵelementStart(20, \"p\", 1);\n        i0.ɵɵelement(21, \"fa-icon\", 8);\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"div\", 10);\n        i0.ɵɵelementStart(24, \"div\", 11);\n        i0.ɵɵelement(25, \"app-label\", 12);\n        i0.ɵɵelementStart(26, \"div\", 13);\n        i0.ɵɵtemplate(27, PostComponent_div_27_Template, 2, 1, \"div\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 15);\n        i0.ɵɵelement(29, \"app-label\", 12);\n        i0.ɵɵelementStart(30, \"div\", 13);\n        i0.ɵɵtemplate(31, PostComponent_div_31_Template, 2, 1, \"div\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 16);\n        i0.ɵɵelement(33, \"app-label\", 12);\n        i0.ɵɵtemplate(34, PostComponent_div_34_Template, 2, 1, \"div\", 17);\n        i0.ɵɵelementStart(35, \"div\", 18);\n        i0.ɵɵelement(36, \"img\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.post.title);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"src\", ctx.apiUrl + \"/post-image/\" + ctx.post.image, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.post.source);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"icon\", ctx.calendarIcon);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.post.date_posted, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"icon\", ctx.clockIcon);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.post.time_posted, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"icon\", ctx.eyeIcon);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.post.views, \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"innerHTML\", ctx.post.text, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"title\", ctx.post.category);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categoryPosts);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"title\", \"\\u041C\\u043E\\u0436\\u0435\\u0431\\u0438 \\u045C\\u0435 \\u0442\\u0435 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0435\\u0441\\u0438\\u0440\\u0430\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categoryPosts);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"title\", \"\\u041D\\u0430\\u0458\\u043D\\u043E\\u0432\\u0438\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.recentPosts);\n      }\n    },\n    directives: [i4.FaIconComponent, i5.LabelComponent, i6.NgForOf, i7.CategoryPostComponent],\n    styles: [\".image[_ngcontent-%COMP%]{height:500px}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}.test[_ngcontent-%COMP%]{border:1px solid black}.info-label[_ngcontent-%COMP%]{background-color:#f2f2f2}.post-text[_ngcontent-%COMP%]{white-space:pre-wrap;font-size:20px}.ads[_ngcontent-%COMP%]{height:250px;overflow:hidden}.ads[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}\"]\n  });\n  return PostComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}