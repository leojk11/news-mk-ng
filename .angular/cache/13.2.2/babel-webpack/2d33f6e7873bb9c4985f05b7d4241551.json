{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { faPlusCircle } from '@fortawesome/free-solid-svg-icons';\nlet AddSubCategoryComponent = class AddSubCategoryComponent {\n  constructor(fb, categoryService, subCategoryService, toast, router) {\n    this.fb = fb;\n    this.categoryService = categoryService;\n    this.subCategoryService = subCategoryService;\n    this.toast = toast;\n    this.router = router;\n    this.categories = [];\n    this.form = this.fb.group({\n      category: ['', [Validators.required]],\n      sub_cat: ['', [Validators.required]]\n    });\n    this.addIcon = faPlusCircle;\n    this.chosenCategory = false;\n    this.submitted = false;\n  }\n\n  ngOnInit() {\n    this.categoryService.getCategories().subscribe(res => {\n      this.categories = res.categories;\n      this.form.patchValue({\n        category: res.categories[0].name\n      });\n    });\n  }\n\n  chooseCategory(event) {\n    console.log(event);\n  }\n\n  handleSubmit() {\n    this.submitted = true;\n    this.form.patchValue({\n      cateogry: this.category\n    });\n\n    if (this.form.invalid) {\n      this.form.markAllAsTouched();\n      this.toast.error('Form is not valid, please check it again');\n      return;\n    }\n\n    console.log(this.form.value); // else {\n    //   this.subCategoryService.addSubCategory(this.form.value).subscribe(res => {\n    //     this.toast.success('Sub category has been added');\n    //     this.router.navigateByUrl('/back/sub-categories');\n    //   }, err => { \n    //     this.toast.error(err.error.message);\n    //   })\n    // }\n  }\n\n  isInvalid(form, control) {\n    var _a;\n\n    if (this.submitted && ((_a = form.get(control)) === null || _a === void 0 ? void 0 : _a.errors)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n};\nAddSubCategoryComponent = __decorate([Component({\n  selector: 'app-add-sub-category',\n  templateUrl: './add-sub-category.component.html',\n  styleUrls: ['./add-sub-category.component.scss']\n})], AddSubCategoryComponent);\nexport { AddSubCategoryComponent };","map":null,"metadata":{},"sourceType":"module"}